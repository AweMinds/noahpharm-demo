# 医学方案摘要协作平台

一个基于React前端 + Python Flask后端的医学方案摘要协作平台，用于管理和处理医学相关文档资料。

## 🚀 快速开始

### 方式一：一键启动（推荐）
```bash
# Windows用户
start.bat

# 或者手动启动
```

### 方式二：分别启动

1. **启动Python后端**：
```bash
cd backend
pip install -r requirements.txt
python app.py
```

2. **启动React前端**：
```bash
npm install
npm start
```

3. 在浏览器中访问 `http://localhost:3000`

## 🏗️ 架构设计

```
┌─────────────────┐    HTTP API    ┌─────────────────┐
│  React Frontend │ ◄─────────────► │ Python Backend  │
│   (Port 3000)   │                 │   (Port 5000)   │
└─────────────────┘                 └─────────────────┘
                                            │
                                            ▼
                                    ┌─────────────────┐
                                    │ Local File Sys  │
                                    │ E:\temp\氨氯地平缬沙坦氢氯噻嗪片-demo\ │
                                    └─────────────────┘
```

## 📋 功能特性

- 📁 **真实文件系统读取** - Python后端直接读取本地文件夹
- 🔒 **安全路径控制** - 只允许访问预配置的安全路径
- 🎨 **现代化UI设计** - 渐变背景、毛玻璃效果、响应式布局
- 📊 **实时状态监控** - 显示后端服务连接状态
- ⚡ **智能错误处理** - 详细的错误提示和重试机制
- 🔄 **动态数据加载** - 实时读取文件夹变化

### 四个核心区域
- ✅ **CDE同类品种-临床备案公示平台试验信息** - 可处理
- ✅ **国外试验文献调研** - 可处理
- ⚫ **法规_指导原则_用药指南** - demo版本禁用
- ⚫ **说明书** - demo版本禁用

## 🛠️ 技术栈

### 前端
- React 18.2.0
- CSS3 (Grid布局, Flexbox, 动画)
- Fetch API (HTTP请求)

### 后端
- Python 3.x
- Flask 2.3.3
- Flask-CORS 4.0.0

## 📁 项目结构

```
├── src/                    # React前端源码
│   ├── App.js             # 主应用组件
│   ├── App.css            # 主应用样式
│   └── services/
│       └── fileSystemService.js  # API调用服务
├── backend/               # Python后端
│   ├── app.py            # Flask应用
│   ├── requirements.txt  # Python依赖
│   └── README.md         # 后端文档
├── public/               # 静态资源
├── package.json          # 前端依赖配置
├── start.bat            # 一键启动脚本
└── README.md            # 项目说明
```

## 🔌 API接口

### 后端API (http://localhost:5000)

| 接口 | 方法 | 描述 |
|------|------|------|
| `/api/health` | GET | 健康检查 |
| `/api/folders/all` | GET | 获取所有区域的文件夹数据 |
| `/api/folders?path=<路径>` | GET | 获取指定路径的子文件夹 |
| `/api/check-path?path=<路径>` | GET | 检查路径是否存在 |

## 🎯 使用流程

1. **启动服务** - 运行 `start.bat` 或分别启动前后端
2. **检查连接** - 页面顶部会显示服务连接状态
3. **浏览文件夹** - 系统自动读取并显示文件夹结构
4. **选择文档** - 勾选需要处理的文档
5. **提取信息** - 点击"提取关键信息"按钮（后续实现）

## ⚠️ 注意事项

### 路径配置
确保以下路径存在：
```
E:\temp\氨氯地平缬沙坦氢氯噻嗪片-demo\
├── CDE同类品种-临床备案公示平台试验信息\
├── 国外试验文献调研\
├── 法规_指导原则_用药指南\
└── 说明书\
```

### 安全设置
- 后端只允许访问预配置的安全路径
- 所有路径都会进行规范化和安全检查
- 详细的访问日志记录

## 🔧 故障排除

### 常见问题

1. **后端服务连接失败**
   - 检查Python是否已安装
   - 确认Flask依赖已安装
   - 检查5000端口是否被占用

2. **找不到文件夹**
   - 确认指定路径存在
   - 检查文件夹权限
   - 查看后端控制台日志

3. **前端无法访问后端**
   - 确认CORS已正确配置
   - 检查防火墙设置
   - 验证网络连接

## 🚀 后续开发计划

- [ ] **文档内容提取** - 实现PDF、Word等格式解析
- [ ] **AI智能分析** - 集成大语言模型进行内容分析
- [ ] **批处理进度** - 添加处理进度条和状态跟踪
- [ ] **结果导出** - 支持多种格式的结果导出
- [ ] **用户系统** - 添加用户认证和权限管理
- [ ] **数据库集成** - 存储处理历史和用户配置

## 📝 开发指南

### 添加新的文档区域
1. 在后端 `app.py` 的 `get_all_folders()` 函数中添加路径
2. 在前端 `App.js` 的 `sections` 数组中添加配置
3. 更新安全路径列表 `ALLOWED_BASE_PATHS`

### 自定义API接口
在 `backend/app.py` 中添加新的路由：

```python
@app.route('/api/your-endpoint', methods=['GET'])
def your_function():
    # 实现逻辑
    return jsonify({'result': 'success'})
```

## 📄 License

MIT License

---

**注意**: 此项目为demo版本，部分功能仍在开发中。如有问题请查看控制台日志或联系开发者。